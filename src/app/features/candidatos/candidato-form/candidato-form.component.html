<div class="container mx-auto max-w-lg bg-white shadow-md rounded-lg p-6 mt-10">
  <h1 class="text-2xl font-semibold text-gray-800 text-center mb-6">
    {{ isEditing ? '✏️ Editar' : '🆕 Nuevo' }} Candidato
  </h1>

  <!-- Indicador de carga -->
  <div *ngIf="loading" class="text-center text-gray-500">⏳ Cargando...</div>

  <form [formGroup]="candidatoForm" (ngSubmit)="onSubmit()" *ngIf="!loading" class="space-y-6">
    
    <!-- Nombre -->
    <div>
      <label for="nombre" class="block text-sm font-medium text-gray-700">Nombre</label>
      <input type="text" id="nombre" formControlName="nombre"
              class="w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" 
             [ngClass]="{'border-red-500': submitted && candidatoForm.get('nombre')?.errors}">
      <p *ngIf="submitted && candidatoForm.get('nombre')?.errors?.['required']"
         class="error-message">El nombre es requerido</p>
    </div>

    <!-- Apellido -->
    <div>
      <label for="apellido" class="block text-sm font-medium text-gray-700">Apellido</label>
      <input type="text" id="apellido" formControlName="apellido"
              class="w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
             [ngClass]="{'border-red-500': submitted && candidatoForm.get('apellido')?.errors}">
      <p *ngIf="submitted && candidatoForm.get('apellido')?.errors?.['required']"
         class="error-message">El apellido es requerido</p>
    </div>

    <!-- Documento de Identidad -->
    <div>
      <label for="documento_identidad" class="block text-sm font-medium text-gray-700">Documento de Identidad</label>
      <input type="text" id="documento_identidad" formControlName="documento_identidad"
              class="w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
             [ngClass]="{'border-red-500': submitted && candidatoForm.get('documento_identidad')?.errors}">
      <p *ngIf="submitted && candidatoForm.get('documento_identidad')?.errors?.['required']"
         class="error-message">El documento de identidad es requerido</p>
    </div>

    <!-- Correo Electrónico -->
    <div>
      <label for="correo" class="block text-sm font-medium text-gray-700">Correo Electrónico</label>
      <input type="email" id="correo" formControlName="correo"
              class="w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
             [ngClass]="{'border-red-500': submitted && candidatoForm.get('correo')?.errors}">
      <p *ngIf="submitted && candidatoForm.get('correo')?.errors?.['required']"
         class="error-message">El correo electrónico es requerido</p>
      <p *ngIf="submitted && candidatoForm.get('correo')?.errors?.['email']"
         class="error-message">Ingrese un correo electrónico válido</p>
    </div>

    <!-- Teléfono -->
    <div>
      <label for="telefono" class="block text-sm font-medium text-gray-700">Teléfono</label>
      <input type="text" id="telefono" formControlName="telefono"
              class="w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
             [ngClass]="{'border-red-500': submitted && candidatoForm.get('telefono')?.errors}">
      <p *ngIf="submitted && candidatoForm.get('telefono')?.errors?.['required']"
         class="error-message">El teléfono es requerido</p>
    </div>

    <!-- Acciones -->
    <div class="flex justify-end space-x-4 mt-6">
      <button type="submit"
          class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
          [disabled]="loading">
      {{ loading ? '⏳ Guardando...' : '💾 Guardar' }}
      </button>

      <button type="button"
          class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"
          [routerLink]="['/candidatos']">
      ❌ Cancelar
      </button>
    </div>
  </form>
  
</div>
